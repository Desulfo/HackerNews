{"version":3,"sources":["molecules/NewsStyles.tsx","molecules/News.tsx","organisms/NewsContainerStyles.tsx","organisms/NewsContainer.tsx","molecules/DetailNews.tsx","App.tsx","index.tsx"],"names":["NewsContainer","styled","article","Header","header","News","news","newsData","Date","time","authorsURL","by","useState","karma","setKarma","useEffect","fetch","then","response","json","data","toDateString","title","score","TopNews","main","stories","sort","fistStory","secondStory","map","story","key","id","to","DetailNews","match","setStory","newsId","params","find","undefined","author","url","href","topStoriesAPI","newsAPI","fetchData","endpoint","a","axios","get","result","getRandomIds","idArray","maxNumber","max","randomIds","randomIndexNumbers","i","randomNumber","Math","floor","random","includes","push","forEach","number","App","setStories","isLoading","setLoading","storiesId","idLength","length","Promise","all","ID","getRandomStories","path","exact","render","props","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.0f8e9b30.chunk.js","sourcesContent":["import styled from 'styled-components';\r\n\r\nconst NewsContainer = styled.article`\r\n  background-color: #f0f0f0;\r\n  max-width: 300px;\r\n  padding: 1rem;\r\n  margin: 1.5rem;\r\n  -webkit-box-shadow: 5px 5px 7px 0px rgba(0, 0, 0, 0.75);\r\n  -moz-box-shadow: 5px 5px 7px 0px rgba(0, 0, 0, 0.75);\r\n  box-shadow: 5px 5px 7px 0px rgba(0, 0, 0, 0.75);\r\n  :hover {\r\n    -webkit-box-shadow: 10px 10px 10px 0px rgba(0, 0, 0, 0.75);\r\n    -moz-box-shadow: 10px 10px 10px 0px rgba(0, 0, 0, 0.75);\r\n    box-shadow: 10px 10px 10px 0px rgba(0, 0, 0, 0.75);\r\n  }\r\n  @media (min-width: 550px) {\r\n    max-width: none;\r\n    width: 500px;\r\n  }\r\n  @media (min-width: 1113px) {\r\n    height: 200px;\r\n  }\r\n`;\r\nconst Header = styled.header`\r\n  display: flex;\r\n  width: 100%;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport { NewsContainer, Header };\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport { NewsContainer, Header } from './NewsStyles';\r\n\r\nfunction News({ news }: any) {\r\n  const newsData = new Date(news.time);\r\n  const authorsURL = `https://hacker-news.firebaseio.com/v0/user/${news.by}.json`;\r\n  const [karma, setKarma] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetch(authorsURL)\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        setKarma(data.karma);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <NewsContainer>\r\n      <Header>\r\n        <section>\r\n          <h3>{news.by}</h3>{' '}\r\n          <p>\r\n            <small>karma:</small> {karma || 'loading'}\r\n          </p>\r\n        </section>{' '}\r\n        <data>{newsData.toDateString()}</data>\r\n      </Header>\r\n      <h2>{news.title}</h2>\r\n      <h3>{`${news.score} ✩`}</h3>\r\n    </NewsContainer>\r\n  );\r\n}\r\n\r\nexport default News;\r\n","import styled from 'styled-components';\r\n\r\nexport const TopNews = styled.main`\r\n  display: flex;\r\n  flex-flow: row wrap;\r\n  justify-content: center;\r\n`;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport News from '../molecules/News';\r\nimport { TopNews } from './NewsContainerStyles';\r\n\r\n//COMPONENT\r\nfunction NewsContainer({ stories }: any) {\r\n  //RENDERING\r\n  return (\r\n    <TopNews>\r\n      {stories\r\n        .sort(\r\n          (fistStory: any, secondStory: any) =>\r\n            secondStory.score - fistStory.score\r\n        )\r\n        .map((story: any) => (\r\n          <Link key={story.id} to={`/${story.id}`}>\r\n            <News news={story} />\r\n          </Link>\r\n        ))}\r\n    </TopNews>\r\n  );\r\n}\r\n\r\nexport default NewsContainer;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst newsAPI = (id: number) =>\r\n  `https://hacker-news.firebaseio.com/v0/item/${id}.json`;\r\nconst fetchData = async (endpoint: string) => {\r\n  const result = await axios.get(endpoint).then((response) => response.data);\r\n  return result;\r\n};\r\n\r\ninterface State {\r\n  title?: string;\r\n  time?: any;\r\n  score?: number;\r\n  by?: string;\r\n  url?: string;\r\n}\r\n\r\nfunction DetailNews({ match, stories }: any) {\r\n  const [story, setStory] = useState<State>({});\r\n  const [isLoading, setLoading] = useState(false);\r\n  const newsId: number = match.params.id;\r\n  useEffect(() => {\r\n    setStory(stories.find((news: any) => news.id == newsId));\r\n  }, []);\r\n\r\n  if (story === undefined) {\r\n    return (\r\n      <>\r\n        <p>ups</p>\r\n        <Link to=\"/\">wstecz</Link>\r\n      </>\r\n    );\r\n  } else {\r\n    const newsData = new Date(story.time);\r\n    const { title, score, by: author, url } = story;\r\n    return (\r\n      <main>\r\n        <Link to=\"/\">wstecz</Link>\r\n        <h2>{title}</h2>\r\n        <h3>{`${score} ✩`}</h3>\r\n        <data>{newsData.toDateString()}</data>\r\n        <h4>{author}</h4>\r\n        <p>\r\n          <small>karma:</small>\r\n        </p>\r\n        <a href={url}>full news</a>\r\n        <section>komentarze</section>\r\n      </main>\r\n    );\r\n  }\r\n}\r\nexport default DetailNews;\r\n","import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport axios from 'axios';\n\nimport './typography.css';\nimport NewsContainer from './organisms/NewsContainer';\nimport DetailNews from './molecules/DetailNews';\n\nconst topStoriesAPI = `https://hacker-news.firebaseio.com/v0/topstories.json?print=pretty`;\nconst newsAPI = (id: number) =>\n  `https://hacker-news.firebaseio.com/v0/item/${id}.json`;\n\nconst getRandomNumber = (max: number) =>\n  Math.floor(Math.random() * Math.floor(max));\nconst fetchData = async (endpoint: string) => {\n  const result = await axios.get(endpoint).then((response) => response.data);\n  //const result = await fetch(endpoint).then((response) => response.json());\n  return result;\n};\nconst getRandomIds = (idArray: Array<number>, maxNumber: number) => {\n  const randomIds: Array<number> = [];\n  const randomIndexNumbers: Array<number> = [];\n  for (let i = 0; i < 10; ) {\n    const randomNumber: number = getRandomNumber(maxNumber);\n    if (!randomIndexNumbers.includes(randomNumber)) {\n      randomIndexNumbers.push(randomNumber);\n      i++;\n    }\n  }\n  randomIndexNumbers.forEach((number) => {\n    randomIds.push(idArray[number]);\n  });\n  return randomIds;\n};\n\nfunction App() {\n  //let [error, setError] = useState(null);\n  const [stories, setStories] = useState([{}]);\n  const [isLoading, setLoading] = useState(false);\n\n  //USE EFFECT\n  useEffect(() => {\n    async function getRandomStories() {\n      setLoading(true);\n      const storiesId: Array<number> = await fetchData(topStoriesAPI);\n      const idLength: number = storiesId.length;\n      const randomIds: Array<number> = getRandomIds(storiesId, idLength);\n      const response: Array<object> = await Promise.all(\n        randomIds.map((ID) => fetchData(newsAPI(ID)))\n      );\n      setStories(response);\n      setLoading(false);\n    }\n    getRandomStories();\n  }, []);\n\n  return (\n    <>\n      <h1>Top Hacker's News</h1>\n      <Router>\n        <Switch>\n          <Route\n            path=\"/\"\n            exact\n            render={() =>\n              isLoading ? (\n                <p>loading...</p>\n              ) : (\n                <NewsContainer stories={stories} />\n              )\n            }\n          />\n          <Route\n            path={`/:id`}\n            render={(props) => <DetailNews {...props} stories={stories} />}\n          />\n        </Switch>\n      </Router>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './reset.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}